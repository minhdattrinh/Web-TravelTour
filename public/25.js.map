{"version":3,"sources":["webpack:///./resources/js/components/profile/Infomation.vue?9e29","webpack:///./resources/js/services/firebase/index.js","webpack:///./resources/js/services/upload.js","webpack:///./resources/js/components/profile/Infomation.vue?ebf0","webpack:///resources/js/components/profile/Infomation.vue","webpack:///./resources/js/components/profile/Infomation.vue?a272","webpack:///./resources/js/components/profile/Infomation.vue","webpack:///./resources/js/components/profile/Infomation.vue?53eb","webpack:///./resources/js/components/profile/Infomation.vue?63da"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","uploadImage","folder","image","a","Promise","resolve","reject","originalName","name","ext","slice","lastIndexOf","imageName","Date","getTime","ref","put","on","snapshot","error","child","getDownloadURL","then","url","component","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","$auth","user","phone_number","address","_e","staticStyle","$event","$refs","inputAvatar","click","avatar","onChangeAvatar","_b","formUserData","preventDefault","saveForm","formItemLayout","email","directives","rawName","value","initialValue","rules","required","message","whitespace","max","expression","disabled","minRows","maxRows","visible","_s","confirmLoading","handleCancel","handleOk","module","exports","push","i","content","options","transform","undefined","locals"],"mappings":"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","file":"25.js","sourcesContent":["import mod from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Infomation.vue?vue&type=style&index=0&id=2e873e70&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Infomation.vue?vue&type=style&index=0&id=2e873e70&lang=less&scoped=true&\"","import firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\n\r\n// Initialize Firebase\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyAp4bkPzIT_PgxURfR2aIGngM8ArIXP35E\",\r\n  authDomain: \"graduation-4e427.firebaseapp.com\",\r\n  databaseURL: \"https://graduation-4e427.firebaseio.com\",\r\n  projectId: \"graduation-4e427\",\r\n  storageBucket: \"graduation-4e427.appspot.com\",\r\n  messagingSenderId: \"266525495476\",\r\n  appId: \"1:266525495476:web:9cee6a5e3a4c69913947e1\",\r\n  measurementId: \"G-4X4ZT1R4C9\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst storage = firebase.storage();\r\n\r\nexport { storage, firebase as default };\r\n","import { storage } from \"./firebase\";\r\n\r\nexport async function uploadImage(folder, image) {\r\n  return new Promise((resolve, reject) => {\r\n    const originalName = image.name;\r\n    const ext = originalName.slice(originalName.lastIndexOf(\".\"));\r\n    const time = new Date().getTime();\r\n    const imageName = time + ext;\r\n    const uploadTask = storage.ref(`images/${folder}/${imageName}`).put(image);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {},\r\n      error => {\r\n        reject(error);\r\n      },\r\n      () => {\r\n        // complete function ....\r\n        storage\r\n          .ref(`images/${folder}`)\r\n          .child(imageName)\r\n          .getDownloadURL()\r\n          .then(url => {\r\n            resolve(url);\r\n          });\r\n      }\r\n    );\r\n  });\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('loading-full-screen'):_c('a-card',{staticClass:\"shadow-sm\",attrs:{\"bordered\":false}},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{staticClass:\"title\",attrs:{\"span\":24}},[_vm._v(\"\\n        Thông tin tài khoản\\n        \"),_c('a-divider')],1),_vm._v(\" \"),(!_vm.$auth.user.phone_number && !_vm.$auth.user.address)?_c('a-col',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"span\":24}},[_c('a-alert',{attrs:{\"type\":\"info\",\"message\":\"Bạn nên cập nhật đầy đủ thông tin\",\"banner\":\"\"}})],1):_vm._e(),_vm._v(\" \"),_c('a-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":8,\"lg\":8}},[_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[(_vm.$auth.user.avatar)?_c('a-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"container-avatar\",on:{\"click\":function($event){return _vm.$refs.inputAvatar.click()}}},[_c('img',{attrs:{\"src\":_vm.$auth.user.avatar,\"alt\":_vm.$auth.user.avatar}})])]):_c('a-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":24}},[_vm._v(\"\\n            Chưa có ảnh đại diện. Vui lòng chọn ảnh\\n          \")]),_vm._v(\" \"),_c('a-col',{staticStyle:{\"margin-top\":\"12px\"}},[_c('input',{ref:\"inputAvatar\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.onChangeAvatar}}),_vm._v(\" \"),_c('a-button',{attrs:{\"type\":\"dashed\",\"size\":\"small\",\"icon\":\"upload\"},on:{\"click\":function($event){return _vm.$refs.inputAvatar.click()}}},[_vm._v(\"Chọn ảnh\")])],1)],1)],1),_vm._v(\" \"),_c('a-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":16,\"lg\":16}},[_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('a-col',{attrs:{\"span\":18}},[_c('a-form',_vm._b({attrs:{\"form\":_vm.formUserData,\"layout\":\"vertical\",\"hideRequiredMark\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.saveForm($event)}}},'a-form',_vm.formItemLayout,false),[_c('a-form-item',{attrs:{\"label\":\"Email\"}},[_c('a-input',{attrs:{\"value\":_vm.user.email,\"disabled\":\"\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"Họ tên\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                    'name',\n                    {\n                      initialValue: _vm.user.name,\n                      rules: [\n                        { required: true, message: 'Không được trống' },\n                        {\n                          whitespace: true,\n                          message: 'Không được nhập khoảng trắng',\n                        },\n                        { max: 255, message: 'Tối đa 255 ký tự' } ],\n                    } ]),expression:\"[\\n                    'name',\\n                    {\\n                      initialValue: user.name,\\n                      rules: [\\n                        { required: true, message: 'Không được trống' },\\n                        {\\n                          whitespace: true,\\n                          message: 'Không được nhập khoảng trắng',\\n                        },\\n                        { max: 255, message: 'Tối đa 255 ký tự' },\\n                      ],\\n                    },\\n                  ]\"}],attrs:{\"placeholder\":\"Nhập họ tên\",\"disabled\":_vm.disabled}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"Số điện thoại\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                    'phone_number',\n                    {\n                      initialValue: _vm.user.phone_number,\n                      rules: [{ max: 12, message: 'Tối đa 12 ký tự' }],\n                    } ]),expression:\"[\\n                    'phone_number',\\n                    {\\n                      initialValue: user.phone_number,\\n                      rules: [{ max: 12, message: 'Tối đa 12 ký tự' }],\\n                    },\\n                  ]\"}],attrs:{\"placeholder\":\"Nhập số điện thoại\",\"disabled\":_vm.disabled}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"Địa chỉ\"}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                    'address',\n                    {\n                      initialValue: _vm.user.address,\n                    } ]),expression:\"[\\n                    'address',\\n                    {\\n                      initialValue: user.address,\\n                    },\\n                  ]\"}],attrs:{\"placeholder\":\"Nhập địa chỉ\",\"autosize\":{ minRows: 2, maxRows: 3 },\"disabled\":_vm.disabled}})],1),_vm._v(\" \"),_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[_c('a-col',[_c('a-button',{attrs:{\"icon\":\"lock\"},on:{\"click\":function($event){_vm.visible = true}}},[_vm._v(\"Đổi mật khẩu\")])],1),_vm._v(\" \"),_c('a-col',[(!_vm.disabled)?_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\",\"icon\":\"save\"}},[_vm._v(\"\\n                    Lưu\\n                  \")]):_vm._e(),_vm._v(\" \"),_c('a-button',{attrs:{\"icon\":_vm.disabled ? 'edit' : ''},on:{\"click\":function($event){_vm.disabled = !_vm.disabled}}},[_vm._v(\"\\n                    \"+_vm._s(_vm.disabled ? \"Cập nhật\" : \"Hủy\")+\"\\n                  \")])],1)],1)],1),_vm._v(\" \"),_c('change-password-form',{ref:\"changePasswordForm\",attrs:{\"visible\":_vm.visible,\"confirmLoading\":_vm.confirmLoading},on:{\"cancel\":_vm.handleCancel,\"ok\":_vm.handleOk}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading-full-screen v-if=\"loading\" />\r\n    <a-card v-else class=\"shadow-sm\" :bordered=\"false\">\r\n      <a-row :gutter=\"24\">\r\n        <a-col :span=\"24\" class=\"title\">\r\n          Thông tin tài khoản\r\n          <a-divider />\r\n        </a-col>\r\n        <a-col v-if=\"!$auth.user.phone_number && !$auth.user.address\" :span=\"24\" style=\"margin-bottom:16px\">\r\n          <a-alert type=\"info\" message=\"Bạn nên cập nhật đầy đủ thông tin\" banner />\r\n        </a-col>\r\n        <a-col :xs=\"24\" :sm=\"24\" :md=\"8\" :lg=\"8\">\r\n          <a-row type=\"flex\" justify=\"center\" align=\"middle\">\r\n            <a-col v-if=\"$auth.user.avatar\" :span=\"20\">\r\n              <div class=\"container-avatar\" @click=\"$refs.inputAvatar.click()\">\r\n                <img :src=\"$auth.user.avatar\" :alt=\"$auth.user.avatar\" />\r\n              </div>\r\n            </a-col>\r\n            <a-col v-else :span=\"24\" style=\"text-align:center\">\r\n              Chưa có ảnh đại diện. Vui lòng chọn ảnh\r\n            </a-col>\r\n            <a-col style=\"margin-top:12px\">\r\n              <input ref=\"inputAvatar\" type=\"file\" accept=\"image/*\" style=\"display:none\" @change=\"onChangeAvatar\" />\r\n              <a-button type=\"dashed\" size=\"small\" icon=\"upload\" @click=\"$refs.inputAvatar.click()\">Chọn ảnh</a-button>\r\n            </a-col>\r\n          </a-row>\r\n        </a-col>\r\n        <a-col :xs=\"24\" :sm=\"24\" :md=\"16\" :lg=\"16\">\r\n          <a-row type=\"flex\" justify=\"center\" align=\"middle\">\r\n            <a-col :span=\"18\">\r\n              <a-form :form=\"formUserData\" v-bind=\"formItemLayout\" layout=\"vertical\" @submit.prevent=\"saveForm\" hideRequiredMark>\r\n                <a-form-item label=\"Email\">\r\n                  <a-input :value=\"user.email\" disabled />\r\n                </a-form-item>\r\n                <a-form-item label=\"Họ tên\">\r\n                  <a-input\r\n                    v-decorator=\"[\r\n                      'name',\r\n                      {\r\n                        initialValue: user.name,\r\n                        rules: [\r\n                          { required: true, message: 'Không được trống' },\r\n                          {\r\n                            whitespace: true,\r\n                            message: 'Không được nhập khoảng trắng',\r\n                          },\r\n                          { max: 255, message: 'Tối đa 255 ký tự' },\r\n                        ],\r\n                      },\r\n                    ]\"\r\n                    placeholder=\"Nhập họ tên\"\r\n                    :disabled=\"disabled\"\r\n                  />\r\n                </a-form-item>\r\n                <a-form-item label=\"Số điện thoại\">\r\n                  <a-input\r\n                    v-decorator=\"[\r\n                      'phone_number',\r\n                      {\r\n                        initialValue: user.phone_number,\r\n                        rules: [{ max: 12, message: 'Tối đa 12 ký tự' }],\r\n                      },\r\n                    ]\"\r\n                    placeholder=\"Nhập số điện thoại\"\r\n                    :disabled=\"disabled\"\r\n                  />\r\n                </a-form-item>\r\n                <a-form-item label=\"Địa chỉ\">\r\n                  <a-textarea\r\n                    v-decorator=\"[\r\n                      'address',\r\n                      {\r\n                        initialValue: user.address,\r\n                      },\r\n                    ]\"\r\n                    placeholder=\"Nhập địa chỉ\"\r\n                    :autosize=\"{ minRows: 2, maxRows: 3 }\"\r\n                    :disabled=\"disabled\"\r\n                  />\r\n                </a-form-item>\r\n                <a-row type=\"flex\" justify=\"space-between\" align=\"middle\">\r\n                  <a-col>\r\n                    <a-button icon=\"lock\" @click=\"visible = true\">Đổi mật khẩu</a-button>\r\n                  </a-col>\r\n                  <a-col>\r\n                    <a-button v-if=\"!disabled\" type=\"primary\" htmlType=\"submit\" icon=\"save\">\r\n                      Lưu\r\n                    </a-button>\r\n                    <a-button @click=\"disabled = !disabled\" :icon=\"disabled ? 'edit' : ''\">\r\n                      {{ disabled ? \"Cập nhật\" : \"Hủy\" }}\r\n                    </a-button>\r\n                  </a-col>\r\n                </a-row>\r\n              </a-form>\r\n\r\n              <change-password-form\r\n                ref=\"changePasswordForm\"\r\n                :visible=\"visible\"\r\n                :confirmLoading=\"confirmLoading\"\r\n                @cancel=\"handleCancel\"\r\n                @ok=\"handleOk\"\r\n              />\r\n            </a-col>\r\n          </a-row>\r\n        </a-col>\r\n      </a-row>\r\n    </a-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  const ChangePasswordForm = {\r\n    props: [\"visible\", \"confirmLoading\"],\r\n    beforeCreate() {\r\n      this.changePasswordForm = this.$form.createForm(this, { name: \"form_change_password\" });\r\n    },\r\n    methods: {\r\n      handleConfirmBlur(e) {\r\n        const value = e.target.value;\r\n        this.confirmPassword = this.confirmPassword || !!value;\r\n      },\r\n      compareToFirstPassword(rule, value, callback) {\r\n        const form = this.changePasswordForm;\r\n        if (value && value !== form.getFieldValue(\"newPassword\")) {\r\n          callback(\"Mật khẩu nhập lại không đúng\");\r\n        } else {\r\n          callback();\r\n        }\r\n      },\r\n      validateToNextPassword(rule, value, callback) {\r\n        const form = this.changePasswordForm;\r\n        if (value && this.confirmPassword) {\r\n          form.validateFields([\"confirmNewPassword\"], { force: true });\r\n        }\r\n        callback();\r\n      },\r\n    },\r\n    template: `\r\n    <a-modal\r\n      :width=\"450\"\r\n      :visible=\"visible\"\r\n      :confirmLoading=\"confirmLoading\"\r\n      centered\r\n      title='Thay đổi mật khẩu'\r\n      okText='Lưu'\r\n      cancelText='Hủy'\r\n      @cancel=\"() => { $emit('cancel') }\"\r\n      @ok=\"() => { $emit('ok') }\"\r\n    >\r\n      <a-form layout='vertical' :form=\"changePasswordForm\" hideRequiredMark>\r\n        <a-form-item label='Mật khẩu cũ' hasFeedback>\r\n          <a-input\r\n            v-decorator=\"[\r\n              'currentPassword',\r\n              {\r\n                rules: [\r\n                  { required: true, message: 'Không được trống' },\r\n                  {\r\n                    whitespace: true,\r\n                    message: 'Không được nhập khoảng trắng'\r\n                  },\r\n                  { min: 6, message: 'Tối thiểu 6 ký tự' },\r\n                  { max: 255, message: 'Tối đa 255 ký tự' }\r\n                ]\r\n              }\r\n            ]\"\r\n            type=\"password\"\r\n            placeholder=\"Nhập mật khẩu cũ\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item label='Mật khẩu mới' hasFeedback>\r\n          <a-input\r\n            v-decorator=\"[\r\n              'newPassword',\r\n              {\r\n                rules: [\r\n                  { required: true, message: 'Không được trống' },\r\n                  {\r\n                    whitespace: true,\r\n                    message: 'Không được nhập khoảng trắng'\r\n                  },\r\n                  { min: 6, message: 'Tối thiểu 6 ký tự' },\r\n                  { max: 255, message: 'Tối đa 255 ký tự' },\r\n                  {\r\n                    validator: validateToNextPassword,\r\n                  },\r\n                ]\r\n              }\r\n            ]\"\r\n            type=\"password\"\r\n            placeholder=\"Nhập mật khẩu mới\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item label='Xác nhận mật khẩu mới' hasFeedback>\r\n          <a-input\r\n            v-decorator=\"[\r\n              'confirmNewPassword',\r\n              {\r\n                rules: [\r\n                  { required: true, message: 'Không được trống' },\r\n                  {\r\n                    validator: compareToFirstPassword,\r\n                  },\r\n                ]\r\n              }\r\n            ]\"\r\n            type=\"password\"\r\n            placeholder=\"Xác nhận mật khẩu mới\"\r\n            @blur=\"handleConfirmBlur\"\r\n          />\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  `,\r\n  };\r\n  import { mapGetters, mapActions } from \"vuex\";\r\n  import { uploadImage } from \"@/services/upload\";\r\n  export default {\r\n    components: { ChangePasswordForm },\r\n    metaInfo: {\r\n      title: \"Thông tin cá nhân\",\r\n    },\r\n    data() {\r\n      return {\r\n        disabled: true,\r\n        visible: false,\r\n        confirmLoading: false,\r\n        formItemLayout: {\r\n          labelCol: {\r\n            xs: { span: 24 },\r\n            sm: { span: 6 },\r\n          },\r\n          wrapperCol: {\r\n            xs: { span: 24 },\r\n            sm: { span: 18 },\r\n          },\r\n        },\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters(\"profile\", [\"user\", \"loading\"]),\r\n    },\r\n    created() {\r\n      this.formUserData = this.$form.createForm(this, { name: \"form_profile\" });\r\n      this.getUser();\r\n    },\r\n    mounted() {},\r\n    methods: {\r\n      ...mapActions(\"profile\", [\"getUser\", \"updateDetails\", \"updatePassword\", \"updateAvatar\"]),\r\n      //Change user data\r\n      saveForm() {\r\n        this.formUserData.validateFields((err, values) => {\r\n          if (!err) {\r\n            try {\r\n              this.updateDetails(values);\r\n            } finally {\r\n              this.disabled = true;\r\n            }\r\n          }\r\n        });\r\n      },\r\n      //Change password\r\n      handleCancel() {\r\n        this.visible = false;\r\n      },\r\n      handleOk() {\r\n        const form = this.$refs.changePasswordForm.changePasswordForm;\r\n        form.validateFields(async (err, values) => {\r\n          if (!err) {\r\n            try {\r\n              this.confirmLoading = true;\r\n              await this.updatePassword(values);\r\n              this.handleCancel();\r\n            } catch (error) {\r\n            } finally {\r\n              form.resetFields();\r\n              this.confirmLoading = false;\r\n            }\r\n          }\r\n        });\r\n      },\r\n      //Change avatar\r\n      onChangeAvatar(e) {\r\n        const image = e.target.files[0];\r\n        uploadImage(\"users\", image).then((url) => {\r\n          this.updateAvatar({ avatar: url });\r\n        });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .title {\r\n    text-align: center;\r\n    font-weight: 500;\r\n    text-transform: uppercase;\r\n  }\r\n  .container-avatar {\r\n    border-radius: 50%;\r\n    background: #fff;\r\n    border: 1px solid rgba(0, 0, 0, 0.15);\r\n    height: auto;\r\n    cursor: pointer;\r\n    img {\r\n      object-fit: contain;\r\n      object-position: center;\r\n      padding: 4px;\r\n      width: 100%;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Infomation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Infomation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Infomation.vue?vue&type=template&id=2e873e70&scoped=true&\"\nimport script from \"./Infomation.vue?vue&type=script&lang=js&\"\nexport * from \"./Infomation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Infomation.vue?vue&type=style&index=0&id=2e873e70&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e873e70\",\n  null\n  \n)\n\nexport default component.exports","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".title[data-v-2e873e70] {\\n  text-align: center;\\n  font-weight: 500;\\n  text-transform: uppercase;\\n}\\n.container-avatar[data-v-2e873e70] {\\n  border-radius: 50%;\\n  background: #fff;\\n  border: 1px solid rgba(0, 0, 0, 0.15);\\n  height: auto;\\n  cursor: pointer;\\n}\\n.container-avatar img[data-v-2e873e70] {\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  -o-object-position: center;\\n     object-position: center;\\n  padding: 4px;\\n  width: 100%;\\n  border-radius: 50%;\\n  overflow: hidden;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Infomation.vue?vue&type=style&index=0&id=2e873e70&lang=less&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Infomation.vue?vue&type=style&index=0&id=2e873e70&lang=less&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/less-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Infomation.vue?vue&type=style&index=0&id=2e873e70&lang=less&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}